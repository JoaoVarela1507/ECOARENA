<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="/Front/styles/cadastro.css">
        <title>ECOARENA - CADASTRO</title>
    </head>
    <body>
        <div id="login">
            <form class="card" id="cadastro-form">
                <div class="logo">
                    <img src="/Front/img/logo-ecoarena.png" alt="Logo ECOARENA">
                </div>
                <div class="card-header">
                    <h2>CADASTRO ECOARENA</h2>
                </div>
                <div class="card-content">
                    <div class="card-content-area">
                        <label for="usuario">Usuário</label>
                        <input type="text" id="usuario" autocomplete="off" placeholder="Digite seu nome de Usuário (Até 8 caracteres)">
                    </div>
                    <div class="card-content-area">
                        <label for="password">Senha</label>
                        <input type="password" id="password" autocomplete="off" placeholder="Digite sua Senha (4 Números)">
                    </div>
                    <div class="card-content-area">
                        <label for="confirm-password">Confirme a senha</label>
                        <input type="password" id="confirm-password" autocomplete="off" placeholder="Confirme sua Senha (4 Números)">
                    </div>
                </div>
                <div class="card-footer">
                    <button type="button" class="botao-cadastro" id="btn-cadastrar">CADASTRAR</button>
                </div>
                <p id="msg-erro"></p>
            </form>
        </div>

        <script>
            document.getElementById("btn-cadastrar").addEventListener("click", function() {
                const usuario = document.getElementById("usuario").value;
                const password = document.getElementById("password").value;
                const confirmPassword = document.getElementById("confirm-password").value;
                const msgErro = document.getElementById("msg-erro");

                // Validação simples
                if (usuario.length > 8 || password.length !== 4 || password !== confirmPassword) {
                    msgErro.textContent = "Erro: Verifique os dados e tente novamente.";
                    return;
                }

                // Verificar se já existe um usuário com esse nome
                if (localStorage.getItem(usuario)) {
                    msgErro.textContent = "Erro: Usuário já cadastrado.";
                    return;
                }

                // Salvar no localStorage
                localStorage.setItem(usuario, password);
                alert("Cadastro realizado com sucesso!");
                window.location.href = "/Front/pags/login.html"; // Redirecionar para a página de login
            });
        </script>
    </body>
</html>
